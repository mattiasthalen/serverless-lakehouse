# Iceberg and SQLite packages
spark.jars.packages org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.8.0,org.xerial:sqlite-jdbc:3.43.0.0

# Iceberg extensions
spark.sql.extensions org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# SQLite catalog for Iceberg
spark.sql.catalog.sqlite org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.sqlite.type jdbc
spark.sql.catalog.sqlite.uri jdbc:sqlite:./lakehouse/catalog.db
spark.sql.catalog.sqlite.warehouse ./lakehouse
spark.sql.catalog.sqlite.jdbc.schema-version V1
spark.sql.defaultCatalog sqlite

# Hive metastore settings
spark.hadoop.javax.jdo.option.ConnectionURL jdbc:derby:memory:metastore_db;create=true
spark.hadoop.javax.jdo.option.ConnectionDriverName org.apache.derby.jdbc.EmbeddedDriver
spark.hadoop.hive.metastore.schema.verification false
spark.hadoop.datanucleus.schema.autoCreateAll true